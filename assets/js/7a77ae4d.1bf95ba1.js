"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[823],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>u});var l=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,l,r=function(e,t){if(null==e)return{};var a,l,r={},n=Object.keys(e);for(l=0;l<n.length;l++)a=n[l],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(l=0;l<n.length;l++)a=n[l],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var o=l.createContext({}),c=function(e){var t=l.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},d=function(e){var t=c(e.components);return l.createElement(o.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return l.createElement(l.Fragment,{},t)}},h=l.forwardRef((function(e,t){var a=e.components,r=e.mdxType,n=e.originalType,o=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),h=c(a),u=r,b=h["".concat(o,".").concat(u)]||h[u]||p[u]||n;return a?l.createElement(b,i(i({ref:t},d),{},{components:a})):l.createElement(b,i({ref:t},d))}));function u(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var n=a.length,i=new Array(n);i[0]=h;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var c=2;c<n;c++)i[c]=a[c];return l.createElement.apply(null,i)}return l.createElement.apply(null,a)}h.displayName="MDXCreateElement"},3789:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>c,default:()=>b,frontMatter:()=>o,metadata:()=>d,toc:()=>h});var l=a(7462),r=a(7294),n=a(3905);class i extends r.Component{constructor(e){super(e),this.state={data:[],originalData:[],sortRarityAsc:!0},this.sortName=this.sortName.bind(this),this.sortRarity=this.sortRarity.bind(this),this.handleChange=this.handleChange.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.findNewCollectibles=this.findNewCollectibles.bind(this),this.copyNewCollectibles=this.copyNewCollectibles.bind(this),this.resetView=this.resetView.bind(this)}handleChange(e){var t;try{t=(t=JSON.parse(e.target.value)).data.loyaltyUserCollectiblesRetrieve}catch{return}t.sort(((e,t)=>e.name>t.name?1:-1)),this.setState({data:t}),document.getElementById("dataEntry").style.display="none",document.getElementById("displayTable").style.display="block"}handleSubmit(e){e.preventDefault()}sortName(){const e=this.state.data;e.sort(((e,t)=>e.name>t.name?1:-1)),this.setState({data:e})}sortRarity(){const e=this.state.data;this.state.sortRarityAsc?e.sort(((e,t)=>e.rarity>t.rarity?1:-1)):e.sort(((e,t)=>e.rarity>t.rarity?-1:1)),this.setState({data:e}),this.setState({sortRarityAsc:!this.state.sortRarityAsc})}findNewCollectibles=async()=>{const e=await fetch("/collectibles-id.json"),t=await e.json();if(this.state.data.length>0){const e=this.state.data;var a=[];e.forEach(((e,l,r)=>{var n;t.indexOf(e.id)>=0&&(n=!0),n||a.push(e)})),a.length>0?(this.setState({originalData:e}),this.setState({data:a}),document.getElementById("newCollectibles").style.display="block"):alert("All of your collectibles are already indexed on this site.")}};copyNewCollectibles(){this.state.data.length>0&&navigator.clipboard.writeText(JSON.stringify(this.state.data.map((e=>e.id))))}resetView(){this.state.originalData.length>0&&(this.setState({data:this.state.originalData}),this.setState({originalData:[]}),document.getElementById("newCollectibles").style.display="none")}render(){return r.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},r.createElement("div",{id:"newCollectibles",style:{display:"none"}},r.createElement("h2",null,"New Collectibles found!"),"You have ",this.state.data.length," collectibles which have not been indexed by this site. The table view has been filtered to only display these collectibles.",r.createElement("br",null),"Please consider submitting these. You can click the button below to copy the collectible ids to your clipboard, and share them by submitting them ",r.createElement("a",{href:"https://github.com/andshrew/PlayStation-Stars/issues/1",target:"_blank"},"on GitHub by clicking here"),".",r.createElement("br",null),r.createElement("button",{onClick:this.copyNewCollectibles},"Copy Ids to Clipboard"),r.createElement("button",{onClick:this.resetView},"Reset View")),r.createElement("form",{onSubmit:this.handleSubmit},r.createElement("div",{id:"dataEntry"},r.createElement("label",null,"Paste User Earned Collectibles JSON data:",r.createElement("br",null),r.createElement("textarea",{rows:3,cols:50,onChange:this.handleChange}))),r.createElement("br",null),r.createElement("div",{id:"displayTable",style:{display:"none"}},r.createElement("button",{onClick:this.sortName},"Sort Name"),r.createElement("button",{onClick:this.sortRarity},"Sort Rarity"),r.createElement("button",{onClick:this.findNewCollectibles},"Check Collectibles"),r.createElement("div",{style:{display:"block"}},r.createElement("table",null,r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"ID"),r.createElement("th",null,"Name"),r.createElement("th",null,"Rarity"),r.createElement("th",null,"Media"),r.createElement("th",null,"Media"))),r.createElement("tbody",null,this.state.data.map(((e,t)=>r.createElement("tr",{key:t},r.createElement("td",null,e.id),r.createElement("td",null,e.name),r.createElement("td",null,e.rarity),e.assets.map(((e,t)=>r.createElement("td",{key:t},r.createElement("a",{href:e.url,target:"_blank"},e.type)))))))))))))}}const s=i,o={title:"Collectibles Parser",description:"Parse the User Earned Collectibles endpoint response",slug:"/collectibles-parser",pagination_next:null,pagination_prev:null},c=void 0,d={unversionedId:"misc/collectibles-parser",id:"misc/collectibles-parser",title:"Collectibles Parser",description:"Parse the User Earned Collectibles endpoint response",source:"@site/docs/misc/collectibles-parser.md",sourceDirName:"misc",slug:"/collectibles-parser",permalink:"/PlayStation-Stars/collectibles-parser",draft:!1,editUrl:"https://github.com/andshrew/PlayStation-Stars/tree/main/website/docs/misc/collectibles-parser.md",tags:[],version:"current",frontMatter:{title:"Collectibles Parser",description:"Parse the User Earned Collectibles endpoint response",slug:"/collectibles-parser",pagination_next:null,pagination_prev:null},sidebar:"tutorialSidebar"},p={},h=[],u={toc:h};function b(e){let{components:t,...a}=e;return(0,n.kt)("wrapper",(0,l.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"This page can be used to parse the JSON response from the ",(0,n.kt)("a",{parentName:"p",href:"/PlayStation-Stars/user/user-earned-collectibles#example-1---retrieve-all-collectibles-for-the-authenticating-account"},"User Earned Collectibles")," endpoint into a simple table."),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Access the ",(0,n.kt)("a",{parentName:"li",href:"/PlayStation-Stars/user/user-earned-collectibles#example-1---retrieve-all-collectibles-for-the-authenticating-account"},"User Earned Collectibles")," endpoint and copy the entire JSON response."),(0,n.kt)("li",{parentName:"ol"},"Paste the response into the text box below. Once a valid JSON response has been pasted the table will be automatically generated.")),(0,n.kt)("admonition",{type:"tip"},(0,n.kt)("p",{parentName:"admonition"},"You can use the JSON response listed in the example for accessing ",(0,n.kt)("a",{parentName:"p",href:"/PlayStation-Stars/user/user-earned-collectibles#example-1---retrieve-all-collectibles-for-the-authenticating-account"},"User Earned Collectibles")," to test this utility.")),(0,n.kt)(s,{mdxType:"Table"}))}b.isMDXComponent=!0}}]);